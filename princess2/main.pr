import getopt
import tests
import test_parser
import compiler

let filename = getopt::get_opt(args, "-c", "--compile", "")
let test = getopt::get_flag(args, "-t", "--test")
let print_ast = getopt::get_flag(args, "-a", "--ast")

if test {
    if print_ast {
        test_parser::print_ast = true
    }
    tests::run_test_suite()
} else {
    if length(filename) > 0 {
        compiler::compile_file(filename)
    } else {
        error("File argument required\n")
    }
}

