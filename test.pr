type Struct = struct {
    a: int
    b: int
    c: Struct2
}

type Struct2 = struct {
    a: int
    b: *int
}

def returns_struct -> Struct {
    let i = allocate(int)
    @i = 20
    let s = { 10, 10, { 10, i } !Struct2 } !Struct
    assert(s.a == 10)
    return s
}

const s = returns_struct()
print(@s.c.b, "\n")